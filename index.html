<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é£²é£Ÿç´€éŒ„ Pro - æˆ‘çš„é£²é£Ÿè¨ˆç®—å™¨</title>
    <style>
        :root { --primary: #008037; --bg: #fdfdfd; --card: #ffffff; }
        body { font-family: -apple-system, sans-serif; background: #f0f2f0; margin: 0; padding: 15px; color: #333; }
        .container { max-width: 500px; margin: 0 auto; }
        .dashboard { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .stat-card { background: var(--card); padding: 12px; border-radius: 15px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border-top: 4px solid #ff8200; }
        .stat-value { font-size: 16px; font-weight: 800; color: var(--primary); display: block; }
        .main-card { background: var(--card); padding: 20px; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); margin-bottom: 20px; }
        input { width: 100%; border: 2px solid #eee; border-radius: 12px; padding: 12px; font-size: 16px; box-sizing: border-box; margin-bottom: 10px; }
        .num-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .add-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 15px; border-radius: 12px; font-size: 17px; font-weight: bold; cursor: pointer; }
        .log-item { background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 5px solid #ff8200; }
    </style>
</head>
<body>

<div class="container">
    <header><h1 style="text-align:center; color:var(--primary);">ğŸª æˆ‘çš„é£²é£Ÿè¨ˆç®—å™¨ Pro</h1></header>

    <div class="dashboard">
        <div class="stat-card"><span>ç†±é‡</span><span class="stat-value" id="t-cal">0</span></div>
        <div class="stat-card"><span>è›‹ç™½</span><span class="stat-value" id="t-pro">0</span></div>
        <div class="stat-card"><span>ç¢³æ°´</span><span class="stat-value" id="t-carb">0</span></div>
    </div>

    <div class="main-card">
        <label>ğŸ” æˆ‘çš„é£²é£Ÿè¨ˆç®—å™¨</label>
        <input type="text" id="fName" oninput="updateMatch()" placeholder="è¼¸å…¥é—œéµå­—">
        <div class="num-grid">
            <div><label style="font-size:11px;">ç†±é‡</label><input type="number" id="c-cal"></div>
            <div><label style="font-size:11px;">è›‹ç™½</label><input type="number" id="c-pro"></div>
            <div><label style="font-size:11px;">ç¢³æ°´</label><input type="number" id="c-carb"></div>
        </div>
        <button class="add-btn" onclick="add()">åŠ å…¥ä»Šæ—¥ç´€éŒ„</button>
    </div>
    <div id="logs"></div>
</div>

<script>
    const db = {
        // --- 7-11 ---
        "7-11-å¤§æˆèˆ’è¿·é›èƒ¸è‚‰": {cal: 115, pro: 22.5, carb: 1},
        "7-11-å¾¡æ–™å°é¤¨çƒ¤é›ç¿…": {cal: 185, pro: 14, carb: 4},
        "7-11-è‚‰é¬†å¾¡é£¯ç³°": {cal: 215, pro: 4.5, carb: 41},
        "7-11-é®ªé­šå¾¡é£¯ç³°": {cal: 195, pro: 4.8, carb: 35},
        "7-11-çŸ³å®‰ç‰§å ´æº«æ³‰è›‹(2å…¥)": {cal: 140, pro: 13, carb: 1},
        "7-11-çœŸé£½æ¶¼éºµ(åŸå‘³)": {cal: 650, pro: 18, carb: 95},
        "7-11-è¥¿è¥¿é‡Œé¢¨æª¸æª¬å’–å•¡(ç‰¹å¤§)": {cal: 210, pro: 1, carb: 50},
        "7-11-ç‡•éº¥æ‹¿éµ(å¤§)": {cal: 230, pro: 3, carb: 35},

        // --- å…¨å®¶ FamilyMart ---
        "å…¨å®¶-å¤§æˆé›èƒ¸è‚‰(æ³•å¼)": {cal: 104, pro: 22.1, carb: 0.8},
        "å…¨å®¶-çƒ¤å¤šè›‹ç™½é£¯ç³°": {cal: 285, pro: 12, carb: 45},
        "å…¨å®¶-å¤¯ç•ªè–¯(ä¸­)": {cal: 180, pro: 2, carb: 42},
        "å…¨å®¶-èŒ¶è‘‰è›‹": {cal: 75, pro: 7, carb: 1},
        "å…¨å®¶-å°æ»·é’è”¬": {cal: 110, pro: 5, carb: 8},
        "å…¨å®¶-é«˜çº–ç„¡ç³–è±†æ¼¿": {cal: 160, pro: 15, carb: 10},
        "å…¨å®¶-åª½åª½ç…®è—å°ç± æ¹¯åŒ…": {cal: 280, pro: 11, carb: 35},

        // --- éº¥ç•¶å‹/æ˜Ÿå·´å…‹/å°Gåº— (ä¿ç•™ç²¾é¸) ---
        "éº¥ç•¶å‹-å¤§è–¯": {cal: 529, pro: 6, carb: 63},
        "éº¥ç•¶å‹-è±¬è‚‰æ»¿ç¦å ¡åŠ è›‹": {cal: 427, pro: 21, carb: 29},
        "æ˜Ÿå·´å…‹-é‚£å ¤(ä¸­)": {cal: 150, pro: 8, carb: 13},
        "å°Gåº—-è’œé ­é›æ¹¯": {cal: 420, pro: 38, carb: 8},
        
        // --- è”¬èœæ°´æœèˆ‡å…¶ä»– ---
        "åœ°ç“œè‘‰": {cal: 30, pro: 3, carb: 5},
        "é’èŠ±èœ": {cal: 35, pro: 3, carb: 6},
        "è˜‹æœ": {cal: 60, pro: 0.3, carb: 15},
        "é¦™è•‰": {cal: 90, pro: 1.1, carb: 23}
    };

    let logs = JSON.parse(localStorage.getItem('my_diet_data_v5')) || [];

    function updateMatch() {
        const val = document.getElementById('fName').value.trim();
        const f = db[val];
        if (f) {
            document.getElementById('c-cal').value = f.cal;
            document.getElementById('c-pro').value = f.pro;
            document.getElementById('c-carb').value = f.carb;
        }
    }

    function add() {
        const name = document.getElementById('fName').value;
        const cal = parseFloat(document.getElementById('c-cal').value) || 0;
        const pro = parseFloat(document.getElementById('c-pro').value) || 0;
        const carb = parseFloat(document.getElementById('c-carb').value) || 0;
        if (!name) return;
        logs.push({name, cal, pro, carb});
        localStorage.setItem('my_diet_data_v5', JSON.stringify(logs));
        render();
        document.getElementById('fName').value = '';
    }

    function render() {
        const div = document.getElementById('logs'); div.innerHTML = '';
        let tc=0, tp=0, tb=0;
        logs.forEach((x, i) => {
            tc+=x.cal; tp+=x.pro; tb+=x.carb;
            div.innerHTML += `<div class="log-item"><div><b>${x.name}</b><br><small>${x.cal}å¡ | è›‹ ${x.pro}g | ç¢³ ${x.carb}g</small></div><div onclick="remove(${i})">âœ•</div></div>`;
        });
        document.getElementById('t-cal').innerText = Math.round(tc);
        document.getElementById('t-pro').innerText = tp.toFixed(1);
        document.getElementById('t-carb').innerText = tb.toFixed(1);
    }

    function remove(i) { logs.splice(i,1); localStorage.setItem('my_diet_data_v5', JSON.stringify(logs)); render(); }
    window.onload = render;
</script>
</body>
</html>

